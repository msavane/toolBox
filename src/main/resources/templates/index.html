<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agri E-commerce</title>
    <link rel="stylesheet" th:href="@{/styles.css}">
</head>

<div class="flabola-container">
    <h3 >Flabâœªla</h3>
</div>


<body class="min-h-screen bg-gradient-to-b from-yellow-400 to-purple-600 p-8">

<h1 class="text-4xl font-bold text-center text-white mb-6">Agri E-commerce</h1>

<div class="text-center mb-6">
    <button class="mt-4 w-full bg-purple-700 text-white flex items-center justify-center gap-2">
        <span><a th:href="@{/add-product}">Add a Product</a></span>
       </button>
   </div>

   <p class="text-center text-white" th:if="${loading != null and loading}">Loading products...</p>
   <p class="text-center text-red-500" th:if="${error}" th:text="${error}"></p>

   <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
       <div th:each="product : ${products}" class="bg-white shadow-xl rounded-2xl p-4">
           <h2 class="text-2xl font-semibold text-purple-700" th:text="${product.name}"></h2>
           <p class="text-gray-600" th:text="${product.description}"></p>
           <p class="text-yellow-500 font-bold text-lg" th:text="'$' + ${#numbers.formatDecimal(product.price, 1, 2)}"></p>

           <!-- Add to Cart button with Form -->
           <form th:action="@{/add-to-cart}" method="post">
             <input type="hidden" name="productId" th:value="${product.id}" />
             <button class="mt-4 w-full bg-purple-700 text-white flex items-center justify-center gap-2" type="submit">
                 <span>Add to Cart</span>
             </button>
         </form>
     </div>
 </div>

 </body>
 </html>
